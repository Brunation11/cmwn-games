@import 'variables';
@import 'mixins';

[id*=drone-level] {
    .instructions {
        @include center;
        top: 48%;
        left: 18%;
        width: 32%;
        height: 70%;
        text-align: center;
        color: $red;

        .level,
        .copy {
            text-shadow: 3px 3px 5px $white;
            display: block;
            position: absolute;
            width: 100%;
        }

        .level {
            font-size: 75px;
        }

        .copy {
            top: 35%;
            font-size: 30px;
            line-height: 40px;
        }
    }

    .path {
        @include background('#{$image}path.png');
        @include center;
        top: 48%;
        left: 65%;
        width: 60%;
        height: 70%;

        .drone {
            @include path-icons(1, 200px, 100px);
            position: absolute;
            top: 20px;
            left: 110px;
        }

        .selectable {
            $tops:   55 130 225;
            $lefts: 460 160  25;
            @for $i from 1 through length($tops) {
                .lock-#{$i} {
                    @include path-icons(5, 100px, 100px);
                    position: absolute;
                    top: #{nth($tops, $i)}px;
                    left: #{nth($lefts, $i)}px;
                    padding: 10px;
                    pointer-events: none;

                    div {
                        @include sprite-circle-star-grey;
                        position: absolute;
                        top: -20px;
                        left: 50%;

                        &.earned {
                            @include sprite-circle-star;
                        }

                        @for $j from 1 through 3 {
                            &:nth-of-type(#{$j}) {
                                transform: translateX(-50%) rotate(#{-40 + 20 * $j}deg);
                                transform-origin: 50% 300%;
                            }
                        }
                    }
                }
            }
        }
    }

    .reveal {
        &.open-fact {
            .close-reveal {
                @include nav-button(2, 80px, 80px);
                position: absolute;
                top: 10%;
                right: 16%;
            }
        }

        .fact {
            @include background('#{$image}flygameframe.png');
            width: 72%;
            height: 100%;
            color: $white;

            .header {
                position: absolute;
                top: 11%;
                left: 50%;
                transform: translateX(-50%);
                background: $black-transparancy;
                padding: 15px;
                width: 95%;
                text-shadow: 5px 2px 5px $black;
                font-size: 60px;
            }

            p {
                @include center;
                width: 95%;
                line-height: 35px;
                font-size: 30px;
                text-shadow: 2px 2px 10px $black;
            }
        }
    }
}

@for $i from 1 through 3 {
    #drone-level-#{$i} {
        .selectable {
            .lock-#{$i} {
                pointer-events: auto;
            }
        }
    }
}

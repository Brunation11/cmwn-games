@import 'variables';
@import 'mixins';

[id*='labyrinth'] {
    .avatar {
        width: 143px;
    }

    .labyrinth,
    .map,
    .image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;

        .player {
            width: 10px;
            height: 10px;

            &:before {
                display: block;
                position: absolute;
                top: -450%;
                left: -450%;
                background-image: url('#{$media-server}SpritesAnimations/sprites.charac.png');
                background-repeat: no-repeat;
                background-position: 0% 0%;
                background-size: 100% auto;
                width: 1000%;
                height: 1000%;
                content: '';
            }
        }

        .interactive-item {
            position: absolute;
            width: 10px;
            height: 10px;

            &:before {
                position: absolute;
                background-image: url('#{$media-server}SpritesAnimations/sprites.map1.png');
                background-repeat: no-repeat;
                background-size: auto 230%;
                content: '';
            }

            &[class*='item-']::before {
                top: -760%;
                left: -450%;
                width: 1000%;
                height: 1260%;
            }

            &.item-1 {
                &:before {
                    background-position: -19px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -19px -146px;
                    }
                }
            }

            &.item-2 {
                &:before {
                    background-position: -134px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -134px -146px;
                    }
                }
            }

            &.item-3 {
                &:before {
                    left: -650%;
                    background-position: -234px -6px;
                    width: 1400%;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -234px -146px;
                    }
                }
            }

            &.item-4 {
                &:before {
                    background-position: -376px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -376px -146px;
                    }
                }
            }

            &.item-5 {
                &:before {
                    background-position: -504px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -504px -146px;
                    }
                }
            }

            &.item-6 {
                &:before {
                    background-position: -619px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -619px -146px;
                    }
                }
            }

            &.item-7 {
                &:before {
                    background-position: -741px -6px;
                }

                &.COMPLETE {
                    &:before {
                        background-position: -741px -146px;
                    }
                }
            }
        }
    }

    .d-pad {
        display: none;
        position: absolute;
        top: 320px;
        left: 720px;
        width: 200px;
        height: 140px;

        div {
            position: absolute;
            background-image: url('#{$media-server}ImageAssets/arrow.keys.png');
            background-size: 500px;
            width: 72px;
            height: 72px;

            $left-position: 151 28 406 276;
            $lefts: 1 0 1 2;
            $tops: 0 1 1 1;

            @for $i from 1 through 4 {
                &:nth-of-type(#{$i}) {
                    top: #{nth($tops, $i) * 68}px;
                    left: #{nth($lefts, $i) * 68}px;
                    background-position: -#{nth($left-position, $i)}px -18px;

                    &:hover {
                        background-position: -#{nth($left-position, $i)}px -126px;
                    }
                }
            }
        }
    }

    .labyrinth-frame {
        position: absolute;
        top: 0;
        left: 0;
        background: rgba(34, 172, 185, .5);
        width: 100%;
        height: 100%;

        &.instructions {
            .wolf {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 20%;
            }

            .header {
                position: absolute;
                top: 4%;
                left: 50%;
                transform: translateX(-50%);
                width: 70%;
                color: $color-yellow;
                font-size: 50px;
                font-weight: 900;
            }

            .sub-header {
                position: absolute;
                top: 48%;
                left: 50%;
                transform: translateX(-50%);
                width: 70%;
                font-size: 25px;
            }

            .nav-arrows {
                position: absolute;
                top: 65%;
                left: 50%;
                transform: translateX(-50%);
                width: 20%;
            }
        }

        &.tip {
            .bush-left {
                position: absolute;
                bottom: 0;
                left: -5%;
                width: 40%;
            }

            .bush-right {
                position: absolute;
                right: -20%;
                bottom: -20%;
                width: 40%;
            }

            .grass {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
            }

            .wolf {
                position: absolute;
                bottom: 0;
                left: 7%;
                width: 20%;
            }

            .sign {
                position: absolute;
                left: 30%;
                width: 60%;
            }

            .content {
                position: absolute;
                top: 7px;
                left: 343px;
                background: url('#{$media-server}SpritesAnimations/sprites-signs.png');
                background-size: auto 100%;
                width: 438px;
                height: 476px;
            }
        }

        &.tips {
            background-position: 0 0;
        }
    }

  // .labyrinth-frame {
  //   &.count-down {
  //     .count {
  //       position: absolute;
  //       left: 500px;
  //       top: 60px;
  //       width: 200px;
  //       text-align: center;
  //     }

  //     .number {
  //       position: absolute;
  //       left: 0;
  //       top: 0;
  //       width: 100%;
  //       color: #fff;
  //       font-size: 260px;
  //       opacity: 0;
  //       animation-duration: 1s;
  //       animation-fill-mode: forwards;

  //       $numbers: three two one;
  //       @for $i from 1 through 3 {
  //         &.#{nth($numbers, $i)} {
  //           animation-delay: #{$i - 1}s
  //         }
  //       }
  //     }

  //     &.OPEN {
  //       .number {
  //         animation-name: number-flash;
  //       }
  //     }
  //   }

  //   // &.level-up {
  //   //   background-image: url(../media/_images/frame.lvlup.png);

  //   //   h2 {
  //   //     position: relative;
  //   //     margin: 0;
  //   //     font-size: 100px;
  //   //     line-height: 1;
  //   //     margin: -90px 0 20px -10px;
  //   //     color: $color-black;
  //   //     text-shadow: none;

  //   //     &:nth-of-type(1) {
  //   //       z-index: 1;
  //   //       margin: 0;
  //   //       color: $color-black;
  //   //       @include text-stroke(4, $color-black);
  //   //     }
  //   //   }

  //   //   p {
  //   //     color: $color-black;
  //   //     @include text-stroke(2, $color-black);
  //   //     font-size: 20px;
  //   //     text-align: left;
  //   //     padding-left: 320px;
  //   //   }
  //   // }

  //   // &.try-again {
  //   //   background-image: url(../media/_images/frame.sorry.png);

  //   //   p {
  //   //     font-size: 78px;
  //   //     line-height: 1;
  //   //     padding-left: 300px;
  //   //   }

  //   //   button {
  //   //     width: 270px;
  //   //     height: 100px;
  //   //     margin-left: 310px;
  //   //     background-image: url(../media/_sprites/sprites.btns.png);
  //   //     background-size: 3375px;
  //   //     background-position: -1930px -78px;

  //   //     &:hover {
  //   //       background-position: -1930px -350px;
  //   //     }
  //   //   }
  //   // }

  //   // &.win {
  //   //   background-image: url(../media/_images/frame.win.png);
  //   //   width: 960px;
  //   //   height: 540px;
  //   //   margin: 0;

  //   //   .eco {
  //   //     width: 470px;
  //   //     left: -60px;
  //   //     bottom: -140px;
  //   //   }

  //   //   .trophy {
  //   //     position: absolute;
  //   //     left: 300px;
  //   //     top: 290px;
  //   //     width: 300px;
  //   //   }

  //   //   .hog {
  //   //     position: absolute;
  //   //     right: 71px;
  //   //     bottom: 71px;
  //   //     width: 200px;
  //   //     height: 200px;
  //   //     background-image: url(../media/_images/energyhog.greyscale.png);
  //   //     background-size: 220px;
  //   //     opacity: 1;
  //   //     transition: filter .5s, opacity .5s;

  //   //     &.blur {
  //   //       filter: blur(10px);
  //   //     }

  //   //     &.hide {
  //   //       opacity: 0;
  //   //     }
  //   //   }

  //   //   p {
  //   //     font-size: 34px;
  //   //     line-height: 44px;
  //   //     padding-left: 300px;
  //   //     color: $color-black;
  //   //     @include text-stroke(4, $color-black);

  //   //     img {
  //   //       display: block;

  //   //       &:nth-of-type(1) {
  //   //         width: 500px;
  //   //         margin-left: 70px;
  //   //         margin-bottom: -40px;
  //   //       }

  //   //       &:nth-of-type(2) {
  //   //         width: 360px;
  //   //         margin-left: 110px;
  //   //         margin-bottom: -20px;
  //   //       }
  //   //     }

  //   //     div {
  //   //       opacity: 0;
  //   //       transition: opacity .5s;

  //   //       &.display {
  //   //         opacity: 1;
  //   //       }

  //   //       &:nth-of-type(1) {
  //   //         margin-left: -130px;
  //   //       }
  //   //     }
  //   //   }

  //   //   button {
  //   //     width: 270px;
  //   //     height: 100px;
  //   //     margin-left: 310px;
  //   //     background-image: url(../media/_sprites/sprites.btns.png);
  //   //     background-size: 3375px;
  //   //     background-position: -1930px -78px;

  //   //     &:hover {
  //   //       background-position: -1930px -350px;
  //   //     }
  //   //   }
  //   // }

  //   p {
  //     padding: 60px 0 40px 200px;
  //     text-align: center;
  //     font-size: 48px;
  //     line-height: 44px;
  //   }

  //   .reveal-arrows {
  //     position: relative;
  //     margin-left: 430px;
  //     height: 110px;

  //     div {
  //       position: absolute;
  //       background-image: url('#{$media-server}ImageAssets/arrow.keys.png');
  //       background-size: 400px;
  //       width: 54px;
  //       height: 54px;

  //       $left-position: 23 123 223 327;
  //       $lefts: 0 1 2 1;
  //       $tops: 1 0 1 1;

  //       @for $i from 1 through 4 {
  //         &:nth-of-type(#{$i}) {
  //           background-position: -#{nth($left-position, $i)}px -17px;
  //           left: #{nth($lefts, $i) * 55}px;
  //           top: #{nth($tops, $i) * 54}px;
  //         }
  //       }
  //     }
  //   }
  // }

    .reveal {
        position: absolute;
        top: 0;
        left: 0;
        transition: opacity .5s, z-index 0s .5s;
        width: 960px;
        height: 540px;

        &.OPEN {
            transition: opacity .5s, z-index 0s;
            z-index: 1;
        }

        ul {
            position: absolute;
            margin: 0;
            width: 960px;
            height: 540px;
        }

        li {
            display: none;
            transition: display 0s 1s;

            &.OPEN {
                display: block;
            }
        }
    }

    .close-reveal {
        position: absolute;
        right: 100px;
        bottom: 75px;
        background-position: -1220px -80px;
        background-size: 3375px;
        width: 190px;
        height: 100px;

        &:hover {
            background-position: -1220px -355px;
        }
    }

    .open-instructions,
    .open-tips,
    [class*='open-item-'] {
        .close-reveal {
            position: absolute;
            top: 0;
            left: 0;
            background: none;
            width: 100%;
            height: 100%;
        }
    }

    .open-level-up {
        .close-reveal {
            background-position: -1500px -80px;
            width: 370px;
            height: 100px;

            &:hover {
                background-position: -1500px -358px;
            }
        }
    }

    .open-try-again {
        .close-reveal {
            bottom: 130px;
            background-position: -2320px -70px;
            width: 230px;
            height: 100px;

            &:hover {
                background-position: -2322px -346px;
            }
        }
    }
}

#labyrinth-outdoors {
    .labyrinth {
        .interactive-item {
            $item-lefts: 660 262  86  86 458 638 642;
            $item-tops:  174 273 322 428 455 299 457;
            @for $i from 1 through 7 {
                &.item-#{$i} {
                    top: #{nth($item-tops, $i)}px;
                    left: #{nth($item-lefts, $i)}px;
                }
            }
        }
    }
}

#labyrinth-indoors {
    .labyrinth {
        .interactive-item {
            $item-lefts: 660 262  86  86 458 638 642;
            $item-tops:  174 273 322 428 455 299 457;
            @for $i from 1 through 7 {
                &.item-#{$i} {
                    top: #{nth($item-tops, $i)}px;
                    left: #{nth($item-lefts, $i)}px;
                }
            }
        }
    }
}

@keyframes fadeOutRelayer {
	0% {
		z-index: 1;
		opacity: 1;
	}
	99% {
		z-index: 1;
		opacity: 0;
	}
	100% {
		z-index: auto;
	}
}

@keyframes fadeInRelayer {
	0% {
		z-index: 1;
		opacity: 0;
	}

	100% {
		z-index: 1;
		opacity: 1;
	}
}

@keyframes anchor {
	0% {transform:translateY(-200px)}
	100% {transform:translateY(0px)}
}

@keyframes lifesaver {
	0% {transform:translateY(200px)}
	100% {transform:translateY(0px)}
}

@keyframes crab {
	0% {transform:translatex(0px)}
	50% {transform:translatex(-40px)}
	100% {transform:translateY(0px)}
}

#globe {
	> .center {
		bottom: 100px;
	}

	[pl-id=characters] {
		position: absolute;
		bottom: 0;
		width: 100%;

		&.DISABLED .draggables [pl-draggable] {
			cursor: default;
		}

		.background {
			display: block;
			width: 100%;
		}

		ul {
			position: absolute;
			top: 0; bottom: 0;
			left: 0; right: 0;
			padding: 0;
			margin: 0;
			text-align: center;
			list-style: none;

			li {
				position: relative;
				display: inline-block;
				width: 75px; height: 70px;
				margin-top: 15px;

				.state {
					position: absolute;
					width: 100%; height: 100%;
					transition: opacity 0.5s;
					background-repeat: no-repeat;
					background-size: 300px;
					background-image: url("../media/images/globe/sprite_4.2.png");

					&.active,
					&.inactive {
						opacity: 0;
					}
				}

				&.ACTIVE,
				&.DISABLED {
					.state { opacity: 0; }
				}

				&.ACTIVE .state.active {
					opacity: 1;
					z-index: 1;
				}


				&.DISABLED .state.inactive {
					opacity: 1;
					z-index: 1;
				}

				$background-top: 0 -85 -160 -240 -325 -395 -485 -565 -640 -720;

				@for $i from 1 through 10{
					&:nth-of-type(#{$i}){
						@if $i == 7 {
							width: 80px;
						}
						@if $i == 8 {
							width: 65px;
						}
						@if $i == 9 {
							width: 65px;
						}
						@if $i == 10 {
							width: 85px;
						}
						@for $j from 1 through 3{
							div:nth-of-type(#{$j}){
								background-position: -304+(100*$j)+px nth($background-top, $i)+5+px;
							}
						}
					}
				}
			}
		}
	}

	.dropzone-component {
		float: left;
		background-repeat: no-repeat;
		background-position: -440px -450px;
		background-size: 900px;
		width: 400px; height: 430px;

		.area {
			position: absolute;
			top: 10px; left: 30px;
			width: 340px; height: 340px;

			div {
				opacity: 0;
				transition: opacity .5s;
				width: 18%;
				position: absolute;
				background-image: url("../media/images/globe/sprite_4.3.png");
				background-size: auto 150px;

				&.show {
					opacity: 1;

					&:nth-of-type(1),
					&:nth-of-type(4),
					&:nth-of-type(7),
					&:nth-of-type(9),
					&:nth-of-type(10) {
						transform: translateY(-10%);
						animation: bob 4s infinite;
					}

					&:nth-of-type(2),
					&:nth-of-type(3),
					&:nth-of-type(5) {
						animation: anchor 4s forwards;
					}

					&:nth-of-type(6) {
						animation: crab 4s infinite;
					}

					&:nth-of-type(8) {
						animation: lifesaver 4s forwards;
					}
				}

				$left: 240  66 140  80 240 210 140 136  30 56;
				$top:   90 270 280 190 250 186 120  20 130 70;
				$width:  62 62 62 62 62 62 62 62 62 72;
				$height: 48 44 60 50 62 36 44 62 44 42;
				$background-left: 0 75 150 225 300  0 75 150 225 300;
				$background-top:  0  0   0   0   0 75 75  75  75  75;

				@for $i from 1 through 10{
					&:nth-of-type(#{$i}){
						left: nth($left, $i)+px;
						top: nth($top, $i)+px;
						width: nth($width, $i)+px;
						height: nth($height, $i)+px;
						background-position: -1*nth($background-left, $i)+5+px nth($background-top, $i)+5+px;
					}
				}
			}
		}
	}

	.frame {
		position: relative;
		overflow: hidden;
		margin: 15px auto;
		float: left;

		.background {
			display: block;
			height: 400px;
		}

		.reveal-component .items {
			position: static;
			margin: 0;

			> li {
				position: absolute;
				top: 0;
				left: 0; right: 0;
				padding: 10px;
				font-size: 1.1em;

				> h3 {
					text-align: center;
					font-size: 1.3em;
				}

				> * {
					margin-left: 1em;
					margin-right: 1em;
				}

				&[pl-id=well-done] {
					.group div {
						width: 430px;
						height: 120px;
						background-size: 990px;
						background-position: 0 495px;
					}

					h3 {
						text-align: center;
					}
				}
			}
		}

		.response {
			position: absolute;
			top: 20px;
			width: 100%;
			height: 400px;
			opacity: 0;
			animation: fadeOutRelayer 1s;
			background-size: 220%;

			&.SELECTED {
				opacity: 1;
				z-index: 1;
				animation: fadeInRelayer 1s;
			}
		}

		.multiple-choice-component {

			ul {
				padding-left: 20px;
			}

			li {
				position: relative;
				list-style: none;

				&.SELECTED {
					background-image: url(../media/images/globe/sprite_4.4.png);
					background-size: auto 40px;
					background-size: 1320px 100%;
					background-position: -880px 4px;
					font-weight: normal;
				}

				> * {
					padding: 10px;
					padding-left: 30px;
					margin: 10px 0;
				}
			}

			li::before {
				position: absolute;
				left: -30px;
				width: 60px; height: 100%;
				content: "";
				background-repeat: no-repeat;
				background-image: url(../media/images/globe/sprite_4.4.png);
				background-size: auto 40px;
				background-size: 900px;
				background-position: -300px -5px;
			}

			li.SELECTED::before {
				background-position: 0px -5px;
			}
		}

		[pl-id=well-done] {
			img {
				width: 100%;
			}
		}
	}

	&.VOICE-OVER {
		.draggables {
			li {
				pointer-events: none;
			}
		}
	}
}

.DEMO {
	#globe.VOICE-OVER {
		.draggables {
			li {
				pointer-events: auto;
			}
		}
	}
}
